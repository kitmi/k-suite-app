"use strict";

require("source-map-support/register");

const App = require('../App');

function startWorker(workingPath, configName, worker, workerName) {
  let app = new App(workerName || 'Worker', {
    workingPath,
    configName
  });
  app.start_().then(worker).catch(error => {
    console.error(error);
    process.exit(1);
  });
}

module.exports = startWorker;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9hcHBzL3dvcmtlci5qcyJdLCJuYW1lcyI6WyJBcHAiLCJyZXF1aXJlIiwic3RhcnRXb3JrZXIiLCJ3b3JraW5nUGF0aCIsImNvbmZpZ05hbWUiLCJ3b3JrZXIiLCJ3b3JrZXJOYW1lIiwiYXBwIiwic3RhcnRfIiwidGhlbiIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwicHJvY2VzcyIsImV4aXQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUEsTUFBTUEsR0FBRyxHQUFHQyxPQUFPLENBQUMsUUFBRCxDQUFuQjs7QUFFQSxTQUFTQyxXQUFULENBQXFCQyxXQUFyQixFQUFrQ0MsVUFBbEMsRUFBOENDLE1BQTlDLEVBQXNEQyxVQUF0RCxFQUFrRTtBQUU5RCxNQUFJQyxHQUFHLEdBQUcsSUFBSVAsR0FBSixDQUFRTSxVQUFVLElBQUksUUFBdEIsRUFBZ0M7QUFDdENILElBQUFBLFdBRHNDO0FBRXRDQyxJQUFBQTtBQUZzQyxHQUFoQyxDQUFWO0FBS0FHLEVBQUFBLEdBQUcsQ0FBQ0MsTUFBSixHQUFhQyxJQUFiLENBQWtCSixNQUFsQixFQUEwQkssS0FBMUIsQ0FBZ0NDLEtBQUssSUFBSTtBQUNyQ0MsSUFBQUEsT0FBTyxDQUFDRCxLQUFSLENBQWNBLEtBQWQ7QUFDQUUsSUFBQUEsT0FBTyxDQUFDQyxJQUFSLENBQWEsQ0FBYjtBQUNILEdBSEQ7QUFJSDs7QUFFREMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCZCxXQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFwcCA9IHJlcXVpcmUoJy4uL0FwcCcpO1xuXG5mdW5jdGlvbiBzdGFydFdvcmtlcih3b3JraW5nUGF0aCwgY29uZmlnTmFtZSwgd29ya2VyLCB3b3JrZXJOYW1lKSB7XG4gICAgLy8gY3JlYXRlIGEgQ2xpZW50IGluc3RhbmNlIHdpdGggY3VzdG9tIGNvbmZpZ3VyYXRpb25cbiAgICBsZXQgYXBwID0gbmV3IEFwcCh3b3JrZXJOYW1lIHx8ICdXb3JrZXInLCB7XG4gICAgICAgIHdvcmtpbmdQYXRoLFxuICAgICAgICBjb25maWdOYW1lXG4gICAgfSk7XG5cbiAgICBhcHAuc3RhcnRfKCkudGhlbih3b3JrZXIpLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgxKTtcbiAgICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdGFydFdvcmtlcjsiXX0=